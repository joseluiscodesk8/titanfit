"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9976],{32138:(pe,L,o)=>{o.d(L,{h:()=>I});var t=o(58837),j=o(60767),N=o(28138),C=o(14041),z=o(95742);const b=(0,t.A)(s=>({markdown:{"& table":{borderCollapse:"collapse",border:`1px solid ${s.palette.border}`},"& th, & td":{border:`1px solid ${s.palette.border}`,padding:s.spacing(1)},"& td":{wordBreak:"break-word",overflow:"hidden",verticalAlign:"middle",lineHeight:"1",margin:0,padding:s.spacing(3,2,3,2.5),borderBottom:0},"& th":{backgroundColor:s.palette.background.paper},"& tr":{backgroundColor:s.palette.background.paper},"& tr:nth-child(odd)":{backgroundColor:s.palette.background.default},"& a":{color:s.palette.link},"& img":{maxWidth:"100%"}}}),{name:"BackstageMarkdownContent"}),E=(s,i)=>i?typeof i=="string"?s+i:C.Children.toArray(i.props.children).reduce(E,s):s,m=({level:s,children:i})=>{const y=C.Children.toArray(i).reduce(E,"").toLocaleLowerCase("en-US").replace(/\W/g,"-");return C.createElement(`h${s}`,{id:y},i)},V={code:({inline:s,className:i,children:f,...h})=>{const y=String(f).replace(/\n+$/,""),S=/language-(\w+)/.exec(i||"");return!s&&S?C.createElement(z.z,{language:S[1],text:y}):C.createElement("code",{className:i,...h},f)},h1:m,h2:m,h3:m,h4:m,h5:m,h6:m};function I(s){const{content:i,dialect:f="gfm",linkTarget:h,transformLinkUri:y,transformImageUri:S,className:G}=s,K=b();return C.createElement(j.$,{remarkPlugins:f==="gfm"?[N.A]:[],className:`${K.markdown} ${G??""}`.trim(),children:i,components:V,linkTarget:h,transformLinkUri:y,transformImageUri:S})}},49976:(pe,L,o)=>{o.r(L),o.d(L,{PullRequestsStatsCard:()=>Tt});var t=o(14041),j=o(40703),N=o(59469),C=o(48653),z=o(45685),b=o(37197),E=o(58837),m=o(7031),V=o(53373),I=o.n(V),s=o(77125),i=o(72501),f=o(52235),h=o(99488);const y=(0,E.A)(e=>({root:{maxWidth:"fit-content",padding:e.spacing(2,2,2,2.5)},boxTitle:{margin:0,color:e.palette.textSubtle},arrow:{color:e.palette.textSubtle}}),{name:"BackstageBottomLink"});function S(e){const{link:a,title:n,onClick:l}=e,r=y();return t.createElement(s.A,null,t.createElement(b.A,null),t.createElement(h.N_,{to:a,onClick:l,underline:"none"},t.createElement(s.A,{display:"flex",alignItems:"center",className:r.root},t.createElement(s.A,{className:r.boxTitle,fontWeight:"fontWeightBold",m:1},t.createElement(i.A,null,t.createElement("strong",null,n))),t.createElement(f.A,{className:r.arrow}))))}var G=o(64947);const K=t.forwardRef((e,a)=>t.createElement(h.N_,{ref:a,...e,color:"initial"})),Ae=t.forwardRef((e,a)=>t.createElement(G.A,{ref:a,component:K,...e})),Mt=null;var ae=o(58007),D=o(8109),Y=o(5951),Z=o(32784),W=o(268),Ce=o(8973),ve=o(29655),fe=o(91567),x=o(42899),he=o(9181),ye=o(6924),Te=o(32138);const F=(e,a)=>(a.palette.type==="light"?W.e$:W.a)(a.palette[e].light,.6),ne=(e,a)=>(a.palette.type==="light"?W.a:W.e$)(a.palette[e].light,.9),oe=(0,E.A)(e=>({root:{marginRight:e.spacing(1),fill:({severity:a})=>F(a,e)}})),Se=({severity:e})=>{const a=oe({severity:e});return t.createElement(he.A,{classes:a})},xe=({severity:e})=>{const a=oe({severity:e});return t.createElement(ye.A,{classes:a})},Me=(0,E.A)(e=>({panel:{backgroundColor:({severity:a})=>ne(a,e),color:({severity:a})=>F(a,e),verticalAlign:"middle"},summary:{display:"flex",flexDirection:"row"},summaryText:{color:({severity:a})=>F(a,e),fontWeight:e.typography.fontWeightBold},markdownContent:{"& p":{display:"inline"}},message:{width:"100%",display:"block",color:({severity:a})=>F(a,e),backgroundColor:({severity:a})=>ne(a,e)},details:{width:"100%",display:"block",color:e.palette.textContrast,backgroundColor:e.palette.background.default,border:`1px solid ${e.palette.border}`,padding:e.spacing(2),fontFamily:"sans-serif"}}),{name:"BackstageWarningPanel"}),Be=e=>e.charAt(0).toLocaleUpperCase("en-US")+e.slice(1);function Re(e){const{severity:a="warning",title:n,titleFormat:l,message:r,children:d,defaultExpanded:T}=e,c=Me({severity:a}),g=Be(a)+(n?`: ${n}`:"");return t.createElement(Ce.A,{defaultExpanded:T??!1,className:c.panel,role:"alert"},t.createElement(ve.A,{expandIcon:t.createElement(xe,{severity:a}),className:c.summary},t.createElement(Se,{severity:a}),t.createElement(i.A,{className:c.summaryText,variant:"subtitle1"},l==="markdown"?t.createElement(Te.h,{content:g,className:c.markdownContent}):g)),(r||d)&&t.createElement(fe.A,null,t.createElement(x.A,{container:!0},r&&t.createElement(x.A,{item:!0,xs:12},t.createElement(i.A,{className:c.message,variant:"body1"},r)),d&&t.createElement(x.A,{item:!0,xs:12,className:c.details},d))))}const Pe=(0,E.A)(e=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:e.spacing(2)},divider:{margin:e.spacing(2)}}),{name:"BackstageErrorPanel"}),Le=({error:e,message:a,stack:n,children:l})=>{const r=Pe();return t.createElement(ae.A,{dense:!0},t.createElement(D.A,{alignItems:"flex-start"},t.createElement(Y.A,{classes:{secondary:r.text},primary:"Error",secondary:e}),t.createElement(Z.l,{text:e})),t.createElement(D.A,{alignItems:"flex-start"},t.createElement(Y.A,{classes:{secondary:r.text},primary:"Message",secondary:a}),t.createElement(Z.l,{text:a})),n&&t.createElement(D.A,{alignItems:"flex-start"},t.createElement(Y.A,{classes:{secondary:r.text},primary:"Stack Trace",secondary:n}),t.createElement(Z.l,{text:n})),l)};function Ne(e){const{title:a,error:n,defaultExpanded:l,titleFormat:r,children:d}=e;return t.createElement(Re,{severity:"error",title:a??n.message,defaultExpanded:l,titleFormat:r},t.createElement(Le,{error:n.name,message:n.message,stack:n.stack,children:d}))}var be=o(92105),Ie=o(10265);const De=e=>{const{slackChannel:a}=e,{t:n}=(0,Ie.i)(be.O);if(a){if(typeof a=="string")return t.createElement(i.A,null,n("errorBoundary.title",{slackChannel:a}));if(!a.href)return t.createElement(i.A,null,n("errorBoundary.title",{slackChannel:a.name}))}else return null;return t.createElement(Ae,{to:a.href,variant:"contained"},a.name)},We=class extends t.Component{constructor(a){super(a),this.state={error:void 0,errorInfo:void 0}}componentDidCatch(a,n){console.error(`ErrorBoundary, error: ${a}`,{error:a,errorInfo:n}),this.setState({error:a,errorInfo:n})}render(){const{slackChannel:a,children:n}=this.props,{error:l}=this.state;return l?t.createElement(Ne,{title:"Something Went Wrong",error:l},t.createElement(De,{slackChannel:a})):n}},Fe=(0,E.A)(e=>({noPadding:{padding:0,"&:last-child":{paddingBottom:0}},contentAlignBottom:{display:"flex",alignItems:"self-end"},header:{padding:e.spacing(2,2,2,2.5)},headerTitle:{fontWeight:e.typography.fontWeightBold},headerSubheader:{paddingTop:e.spacing(1)},headerAvatar:{},headerAction:{},headerContent:{},subheader:{display:"flex"}}),{name:"BackstageInfoCard"}),Ue=(0,m.A)(e=>({root:{display:"inline-block",padding:e.spacing(8,8,0,0),float:"right"}}),{name:"BackstageInfoCardCardActionsTopRight"})(N.A),le={card:{flex:{display:"flex",flexDirection:"column"},fullHeight:{display:"flex",flexDirection:"column",height:"100%"},gridItem:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px",breakInside:"avoid-page","@media print":{height:"auto"}}},cardContent:{fullHeight:{flex:1},gridItem:{flex:1}}};function $e(e){const{title:a,subheader:n,divider:l=!0,deepLink:r,slackChannel:d,errorBoundaryProps:T,variant:c,alignContent:g="normal",children:B,headerStyle:R,headerProps:P,icon:$,action:O,actionsClassName:u,actions:k,cardClassName:w,actionsTopRight:H,className:q,noPadding:p,titleTypographyProps:v,subheaderTypographyProps:_}=e,A=Fe();let ee={},te={};c&&c.split(/[\s]+/g).forEach(Ee=>{ee={...ee,...le.card[Ee]},te={...te,...le.cardContent[Ee]}});const St=()=>!n&&!$?null:t.createElement("div",{"data-testid":"info-card-subheader"},n&&t.createElement("div",{className:A.subheader},n),$),xt=T||(d?{slackChannel:d}:{});return t.createElement(j.A,{style:ee,className:q},t.createElement(We,{...xt},a&&t.createElement(z.A,{classes:{root:I()(A.header),title:A.headerTitle,subheader:A.headerSubheader,avatar:A.headerAvatar,action:A.headerAction,content:A.headerContent},title:a,subheader:St(),action:O,style:{...R},titleTypographyProps:v,subheaderTypographyProps:_,...P}),H&&t.createElement(Ue,null,H),l&&t.createElement(b.A,null),t.createElement(C.A,{className:I()(w,{[A.noPadding]:p,[A.contentAlignBottom]:g==="bottom"}),style:te},B),k&&t.createElement(N.A,{className:u},k),r&&t.createElement(S,{...r})))}var Oe=o(95479),ke=o.n(Oe),M=o(99703),He=o(61009),je=o(13677),re=o(54801),ze=o(9719);const Ve=e=>(0,M.A)({root:{fontWeight:e.typography.fontWeightBold,whiteSpace:"nowrap",paddingRight:e.spacing(4),border:"0",verticalAlign:"top"}}),Ge={root:{border:"0",verticalAlign:"top"}},Ke=e=>(0,M.A)({root:{margin:e.spacing(0,0,-1,0)}}),Ye=e=>(0,M.A)({root:{padding:e.spacing(0,0,1,0)},random:{}}),Ze=(0,m.A)(Ve,{name:"BackstageMetadataTableTitleCell"})(re.A),Xe=(0,m.A)(Ge,{name:"BackstageMetadataTableCell"})(re.A),Je=({dense:e,children:a})=>t.createElement(He.A,{size:e?"small":"medium"},t.createElement(je.A,null,a)),Qe=({title:e,children:a,...n})=>t.createElement(ze.A,null,e&&t.createElement(Ze,null,e),t.createElement(Xe,{colSpan:e?1:2,...n},a)),se=(0,m.A)(Ke,{name:"BackstageMetadataTableList"})(({classes:e,children:a})=>t.createElement(ae.A,{disablePadding:!0,className:e.root},a)),ie=(0,m.A)(Ye,{name:"BackstageMetadataTableListItem"})(({classes:e,children:a})=>t.createElement(D.A,{className:e.root},a));var we=o(95742),qe=o(9911);const de=(0,M.A)({root:{margin:"0 0",listStyleType:"none"}}),_e=e=>(0,M.A)({root:{...de.root,paddingLeft:e.spacing(1)}}),ce=(0,m.A)(de,{name:"BackstageStructuredMetadataTableList"})(({classes:e,children:a})=>t.createElement(se,{classes:e},a)),me=(0,m.A)(_e,{name:"BackstageStructuredMetadataTableNestedList"})(({classes:e,children:a})=>t.createElement(se,{classes:e},a));function et(e,a,n){const l=e.map((r,d)=>t.createElement(ie,{key:d},X(r,a,n)));return n?t.createElement(me,null,l):t.createElement(ce,null,l)}function tt(e,a,n){const l=Object.keys(e).map(r=>{const d=X(e[r],a,!0);return t.createElement(ie,{key:r},t.createElement(i.A,{variant:"body2",component:"span"},`${a.titleFormat(r)}: `),d)});return n?t.createElement(me,null,l):t.createElement(ce,null,l)}function X(e,a,n){if(t.isValidElement(e))return t.createElement(t.Fragment,null,e);if(e!==null&&typeof e=="object"){if(a.nestedValuesAsYaml)return t.createElement(we.z,{language:"yaml",text:qe.Ay.dump(e),customStyle:{background:"transparent",lineHeight:"1.4",padding:"0",margin:0}});if(!Array.isArray(e))return tt(e,a,n)}return Array.isArray(e)?et(e,a,n):typeof e=="boolean"?t.createElement(t.Fragment,null,e?"\u2705":"\u274C"):t.createElement(i.A,{variant:"body2",component:"span"},e)}const at=({value:e,options:a})=>t.createElement(t.Fragment,null,X(e,a,!1)),nt=({title:e,value:a,options:n})=>t.createElement(Qe,{title:n.titleFormat(e)},t.createElement(at,{value:a,options:n}));function ot(e,a){return Object.keys(e).map(n=>t.createElement(nt,{key:n,title:n,value:e[n],options:a}))}function lt(e){const{metadata:a,dense:n=!0,options:l}=e,r=ot(a,{titleFormat:ke(),nestedValuesAsYaml:l?.nestedValuesAsYaml??!1,...l});return t.createElement(Je,{dense:n},r)}var rt=o(74311),J=o(25514),st=o(73466),it=o(74909),ge=o(52950),dt=o(18139),Q=o(16400),ue=o(28186);function ct(e){const a=e.reduce((n,l)=>{n.avgTimeUntilMerge+=l.pullRequest.mergedAt?new Date(l.pullRequest.mergedAt).getTime()-new Date(l.createdAt).getTime():0;const r=new Date(l.createdAt).getTime()-new Date(l.firstCommitAt).getTime();return n.avgCodingTime+=r>0?r:0,n.mergedCount+=l.pullRequest.mergedAt?1:0,n.closedCount+=l.closedAt?1:0,n.additions+=l.pullRequest.additions,n.deletions+=l.pullRequest.deletions,n.changedLinesCount+=l.pullRequest.additions+l.pullRequest.deletions,n.changedFilesCount+=l.pullRequest.changedFiles,n},{avgTimeUntilMerge:0,avgCodingTime:0,closedCount:0,mergedCount:0,changedLinesCount:0,changedFilesCount:0,additions:0,deletions:0});return{...a,avgChangedLinesCount:Math.round(a.changedLinesCount/e.length),avgChangedFilesCount:Math.round(a.changedFilesCount/e.length),avgAdditions:Math.round(a.additions/e.length),avgDeletions:Math.round(a.deletions/e.length)}}function mt({owner:e,repo:a,branch:n,pageSize:l,state:r}){const d=(0,dt.gf)(it.E),{entity:T}=(0,Q.tN)(),c=(0,ue.E)(T),{loading:g,value:B,error:R}=(0,st.A)(async()=>{if(!a)return{avgTimeUntilMerge:"Never",avgCodingTime:"Never",mergedToClosedRatio:"0%",avgChangedLinesCount:0,avgChangedFilesCount:0,avgAdditions:0,avgDeletions:0};const{pullRequestsData:P}=await d.listPullRequests({search:`state:${r}`,hostname:c,owner:e,repo:a,pageSize:l,page:1,branch:n}),$=["github-actions[bot]","dependabot[bot]","roadie-bot"],O=await Promise.all(P.items.filter(p=>{const v=p.user?.login;return v&&!$.includes(v)}).map(async p=>{const v=await d.getRepositoryData({url:p.pull_request.url,hostname:c}),_=await d.getCommitDetailsData({hostname:c,owner:e,repo:a,number:p.number});return{createdAt:p.created_at,closedAt:p.closed_at,firstCommitAt:_.firstCommitDate.toString(),pullRequest:{mergedAt:p.pull_request.merged_at,additions:v.additions,deletions:v.deletions,changedFiles:v.changedFiles}}})),u=ct(O);if(u.closedCount===0||u.mergedCount===0)return{...u,avgTimeUntilMerge:"Never",avgCodingTime:"Never",mergedToClosedRatio:"0%"};const k=u.avgTimeUntilMerge/u.mergedCount,w=ge.dw.fromMillis(k).shiftTo("months","days","hour").toHuman({notation:"compact"}),H=u.avgCodingTime/O.length,q=ge.dw.fromMillis(H).shiftTo("months","days","hour").toHuman({notation:"compact"});return{...u,avgTimeUntilMerge:w,avgCodingTime:q,mergedToClosedRatio:`${Math.round(u.mergedCount/u.closedCount*100)}%`}},[l,a,e]);return[{loading:g,statsData:B,projectName:`${e}/${a}`,error:R}]}var gt=o(71677),ut=o(78467),Et=o(95061),pt=o(81215),U=o(26343),At=o(51253);const Ct=(0,E.A)(e=>({container:{backgroundColor:e.palette.background.paper,fontSize:"1rem",fontWeight:Number(e.typography.fontWeightBold),borderRadius:"6px",boxShadow:e.shadows[10]},additions:{color:e.palette.success.main},deletions:{color:e.palette.error.main}})),vt=e=>{const{additions:a,deletions:n}=e,l=Ct();return t.createElement(x.A,{container:!0,className:l.container},t.createElement(x.A,{item:!0,className:l.additions},"+",a),t.createElement(x.A,{item:!0,className:l.deletions},"-",n))};var ft=o(88246);const ht=(0,E.A)(e=>({infoCard:{marginBottom:e.spacing(3),"& + .MuiAlert-root":{marginTop:e.spacing(3)},"& .MuiCardContent-root":{padding:e.spacing(2,1,2,2)},"& td":{whiteSpace:"normal"}}})),yt=e=>{const{entity:a}=(0,Q.tN)(),n=ht(),[l,r]=(0,t.useState)(20),d=(0,J.pZ)(a),[T,c]=(d??"/").split("/"),[{statsData:g,loading:B}]=mt({owner:T,repo:c,pageSize:l,state:"closed"}),R={"average time of PR until merge":g?.avgTimeUntilMerge,"merged to closed ratio":g?.mergedToClosedRatio,"average size of PR":t.createElement(gt.Ay,{title:t.createElement(vt,{additions:g?.avgAdditions,deletions:g?.avgDeletions})},t.createElement("div",null,g?.avgChangedLinesCount," lines")),"average changed files of PR":`${g?.avgChangedFilesCount}`,"average coding time of PR":`${g?.avgCodingTime}`};return t.createElement($e,{title:"GitHub Pull Requests Statistics",className:n.infoCard,variant:e.variant},B?t.createElement(ut.A,null):t.createElement(s.A,{position:"relative"},t.createElement(lt,{metadata:R}),t.createElement(s.A,{display:"flex",justifyContent:"flex-end"},t.createElement(Et.A,null,t.createElement(pt.A,{value:l,onChange:P=>r(Number(P.target.value))},t.createElement(U.A,{value:10},"10"),t.createElement(U.A,{value:20},"20"),t.createElement(U.A,{value:50},"50"),t.createElement(U.A,{value:100},"100")),t.createElement(At.A,null,"Number of PRs")))))},Tt=e=>{const{entity:a}=(0,Q.tN)(),n=(0,ue.E)(a),l=(0,J.pZ)(a);return!l||l===""?t.createElement(rt.o,{annotation:J.pM}):t.createElement(ft.u,{title:"GitHub Pull Requests Statistics",hostname:n},t.createElement(yt,{...e}))}}}]);})();

//# sourceMappingURL=9976.e7b7c454.chunk.js.map