"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2389],{2389:(b,C,t)=>{t.r(C),t.d(C,{ConsumedApisCard:()=>_,HasApisCard:()=>q,ProvidedApisCard:()=>tt});var e=t(31085),p=t(97214),s=t(72501),v=t(16400),y=t(39557),l=t(35301),u=t(17400),E=t(15485),o=t(14041),R=t(88419),S=t(18139),K=t(77125),i=t(64947),T=t(76891),A=t(93453),d=t(46805),j=t(61477),c=t(38605),D=t(31653),I=t(58837),M=t(90338),f=t(77536),g=t(10265),B=t(96943);const z=(0,I.A)(a=>({fullHeightDialog:{height:"calc(100% - 64px)"},root:{display:"flex",flexGrow:1,width:"100%",height:"100%"},tabs:{borderRight:`1px solid ${a.palette.divider}`,flexShrink:0},tabContents:{flexGrow:1,overflowX:"auto"},title:{color:a.palette.text.primary,wordBreak:"break-word",fontSize:a.typography.h3.fontSize,marginBottom:0},type:{textTransform:"uppercase",fontSize:11,opacity:.8,marginBottom:a.spacing(1),color:a.palette.text.primary}}));function $(a){const{children:n,value:r,index:m,...h}=a,L=z();return(0,e.jsx)("div",{role:"tabpanel",hidden:r!==m,id:`vertical-tabpanel-${m}`,"aria-labelledby":`vertical-tab-${m}`,className:L.tabContents,...h,children:r===m&&(0,e.jsx)(K.A,{pl:3,pr:3,children:n})})}function U(a){return{id:`vertical-tab-${a}`,"aria-controls":`vertical-tabpanel-${a}`}}function G(a){const{open:n,entity:r,onClose:m}=a,[h,L]=(0,o.useState)(0),P=z(),{t:O}=(0,g.i)(B.w);(0,o.useEffect)(()=>{L(0)},[n]);const x=(0,S.gf)(M.P).getApiDefinitionWidget(r);let X=0,w=0;return(0,e.jsxs)(T.A,{fullWidth:!0,maxWidth:"xl",open:n,onClose:m,"aria-labelledby":"api-definition-dialog-title",PaperProps:{className:P.fullHeightDialog},children:[(0,e.jsxs)(j.A,{id:"api-definition-dialog-title",disableTypography:!0,children:[(0,e.jsxs)(s.A,{className:P.type,children:["API - ",x?.title??"Raw"]}),(0,e.jsx)(s.A,{className:P.title,variant:"h1",children:r.metadata.title??r.metadata.name})]}),(0,e.jsxs)(d.A,{dividers:!0,className:P.root,children:[(0,e.jsxs)(D.A,{orientation:"vertical",variant:"scrollable",value:h,onChange:(nt,et)=>L(et),"aria-label":O("apiDefinitionDialog.tabsAriaLabel"),className:P.tabs,children:[x?(0,e.jsx)(c.A,{label:x.title,...U(X++)}):null,(0,e.jsx)(c.A,{label:"Raw",...U(X++)})]}),x?(0,e.jsx)($,{value:h,index:w++,children:x.component(r.spec.definition)}):null,(0,e.jsx)($,{value:h,index:w++,children:(0,e.jsx)(f.e,{definition:r.spec.definition,language:x?.rawLanguage??r.spec.type})})]}),(0,e.jsx)(A.A,{children:(0,e.jsx)(i.A,{onClick:m,color:"primary",children:O("apiDefinitionDialog.closeButtonTitle")})})]})}function H(a){return{title:a("apiEntityColumns.typeTitle"),field:"spec.type",render:n=>(0,e.jsx)(R.t,{apiEntity:n})}}const Y=({apiEntity:a})=>{const[n,r]=(0,o.useState)(!1),{t:m}=(0,g.i)(B.w);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(E.A,{"aria-label":m("apiDefinitionDialog.toggleButtonAriaLabel"),onClick:()=>r(!n),value:n,children:(0,e.jsx)(u.A,{})}),(0,e.jsx)(G,{entity:a,open:n,onClose:()=>r(!1)})]})};function F(a){return{title:a("apiEntityColumns.apiDefinitionTitle"),render:n=>(0,e.jsx)(Y,{apiEntity:n})}}const k=a=>[l.s.columns.createEntityRefColumn({defaultKind:"API"}),l.s.columns.createSystemColumn(),l.s.columns.createOwnerColumn(),H(a),l.s.columns.createSpecLifecycleColumn(),l.s.columns.createMetadataDescriptionColumn(),F(a)];var N=t(21332),Z=t(96872),J=t(99338),Q=t(62112),V=t(75202);const _=a=>{const{t:n}=(0,g.i)(B.w),{variant:r="gridItem",title:m=n("consumedApisCard.title"),columns:h=k(n),tableOptions:L={}}=a,{entity:P}=(0,v.tN)(),{entities:O,loading:W,error:x}=(0,y.E)(P,{type:p.Ey});return W?(0,e.jsx)(N.n,{variant:r,title:m,children:(0,e.jsx)(Z.k,{})}):x||!O?(0,e.jsx)(N.n,{variant:r,title:m,children:(0,e.jsx)(J.B,{severity:"error",title:n("consumedApisCard.error.title"),message:(0,e.jsx)(Q.z,{text:`${x}`,language:"text"})})}):(0,e.jsx)(l.s,{title:m,variant:r,emptyContent:(0,e.jsxs)("div",{style:{textAlign:"center"},children:[(0,e.jsx)(s.A,{variant:"body1",children:n("consumedApisCard.emptyContent.title",{entity:P.kind.toLocaleLowerCase("en-US")})}),(0,e.jsx)(s.A,{variant:"body2",children:(0,e.jsx)(V.N_,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specconsumesapis-optional",externalLinkIcon:!0,children:n("apisCardHelpLinkTitle")})})]}),columns:h,tableOptions:L,entities:O})},q=a=>{const{t:n}=(0,g.i)(B.w),r=(0,o.useMemo)(()=>[l.s.columns.createEntityRefColumn({defaultKind:"API"}),l.s.columns.createOwnerColumn(),H(n),l.s.columns.createSpecLifecycleColumn(),l.s.columns.createMetadataDescriptionColumn()],[n]),{variant:m="gridItem",title:h=n("hasApisCard.title"),columns:L=r,tableOptions:P={}}=a,{entity:O}=(0,v.tN)(),{entities:W,loading:x,error:X}=(0,y.E)(O,{type:p.sA,kind:"API"});return x?(0,e.jsx)(N.n,{variant:m,title:h,children:(0,e.jsx)(Z.k,{})}):X||!W?(0,e.jsx)(N.n,{variant:m,title:h,children:(0,e.jsx)(J.B,{severity:"error",title:n("hasApisCard.error.title"),message:(0,e.jsx)(Q.z,{text:`${X}`,language:"text"})})}):(0,e.jsx)(l.s,{title:h,variant:m,emptyContent:(0,e.jsxs)("div",{style:{textAlign:"center"},children:[(0,e.jsx)(s.A,{variant:"body1",children:n("hasApisCard.emptyContent.title",{entity:O.kind.toLocaleLowerCase("en-US")})}),(0,e.jsx)(s.A,{variant:"body2",children:(0,e.jsx)(V.N_,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#kind-api",children:n("apisCardHelpLinkTitle")})})]}),columns:L,tableOptions:P,entities:W})},tt=a=>{const{t:n}=(0,g.i)(B.w),{variant:r="gridItem",title:m=n("providedApisCard.title"),columns:h=k(n),tableOptions:L={}}=a,{entity:P}=(0,v.tN)(),{entities:O,loading:W,error:x}=(0,y.E)(P,{type:p.ZD});return W?(0,e.jsx)(N.n,{variant:r,title:m,children:(0,e.jsx)(Z.k,{})}):x||!O?(0,e.jsx)(N.n,{variant:r,title:m,children:(0,e.jsx)(J.B,{severity:"error",title:n("providedApisCard.error.title"),message:(0,e.jsx)(Q.z,{text:`${x}`,language:"text"})})}):(0,e.jsx)(l.s,{title:m,variant:r,emptyContent:(0,e.jsxs)("div",{style:{textAlign:"center"},children:[(0,e.jsx)(s.A,{variant:"body1",children:n("providedApisCard.emptyContent.title",{entity:P.kind.toLocaleLowerCase("en-US")})}),(0,e.jsx)(s.A,{variant:"body2",children:(0,e.jsx)(V.N_,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specprovidesapis-optional",externalLinkIcon:!0,children:n("apisCardHelpLinkTitle")})})]}),columns:h,tableOptions:L,entities:O})}},15485:(b,C,t)=>{t.d(C,{A:()=>S});var e=t(39850),p=t(89575),s=t(14041),v=t(9546),y=t(268),l=t(7031),u=t(97740),E=t(11192),o=function(i){return{root:(0,p.A)({},i.typography.button,{boxSizing:"border-box",borderRadius:i.shape.borderRadius,padding:11,border:"1px solid ".concat((0,y.X4)(i.palette.action.active,.12)),color:(0,y.X4)(i.palette.action.active,.38),"&$selected":{color:i.palette.action.active,backgroundColor:(0,y.X4)(i.palette.action.active,.12),"&:hover":{backgroundColor:(0,y.X4)(i.palette.action.active,.15)},"& + &":{borderLeft:0,marginLeft:0}},"&$disabled":{color:(0,y.X4)(i.palette.action.disabled,.12)},"&:hover":{textDecoration:"none",backgroundColor:(0,y.X4)(i.palette.text.primary,.05),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}}}),disabled:{},selected:{},label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},sizeSmall:{padding:7,fontSize:i.typography.pxToRem(13)},sizeLarge:{padding:15,fontSize:i.typography.pxToRem(15)}}},R=s.forwardRef(function(i,T){var A=i.children,d=i.classes,j=i.className,c=i.disabled,D=c===void 0?!1:c,I=i.disableFocusRipple,M=I===void 0?!1:I,f=i.onChange,g=i.onClick,B=i.selected,z=i.size,$=z===void 0?"medium":z,U=i.value,G=(0,e.A)(i,["children","classes","className","disabled","disableFocusRipple","onChange","onClick","selected","size","value"]),H=function(F){g&&(g(F,U),F.isDefaultPrevented())||f&&f(F,U)};return s.createElement(u.A,(0,p.A)({className:(0,v.default)(d.root,j,D&&d.disabled,B&&d.selected,$!=="medium"&&d["size".concat((0,E.A)($))]),disabled:D,focusRipple:!M,ref:T,onClick:H,onChange:f,value:U,"aria-pressed":B},G),s.createElement("span",{className:d.label},A))});const S=(0,l.A)(o,{name:"MuiToggleButton"})(R)},35301:(b,C,t)=>{t.d(C,{s:()=>T});var e=t(31085),p=t(58837),s=t(97214),v=t(54748),y=t(699),l=t(37281),u=t(14158),E=t(53318);const o=Object.freeze({createEntityRefColumn(A){const{defaultKind:d}=A;function j(c){return c.metadata?.title||(0,E.S)(c,{defaultKind:d})}return{title:"Name",highlight:!0,customFilterAndSearch(c,D){return j(D).includes(c)},customSort(c,D){return j(c).localeCompare(j(D))},render:c=>(0,e.jsx)(l.z,{entityRef:c,defaultKind:d,title:c.metadata?.title})}},createEntityRelationColumn(A){const{title:d,relation:j,defaultKind:c,filter:D}=A;function I(f){return(0,y.t)(f,j,D)}function M(f){return I(f).map(g=>(0,E.S)(g,{defaultKind:c})).join(", ")}return{title:d,customFilterAndSearch(f,g){return M(g).includes(f)},customSort(f,g){return M(f).localeCompare(M(g))},render:f=>(0,e.jsx)(u.i,{entityRefs:I(f),defaultKind:c})}},createOwnerColumn(){return this.createEntityRelationColumn({title:"Owner",relation:s.vv,defaultKind:"group"})},createDomainColumn(){return this.createEntityRelationColumn({title:"Domain",relation:s.jn,defaultKind:"domain",filter:{kind:"domain"}})},createSystemColumn(){return this.createEntityRelationColumn({title:"System",relation:s.jn,defaultKind:"system",filter:{kind:"system"}})},createMetadataDescriptionColumn(){return{title:"Description",field:"metadata.description",render:A=>(0,e.jsx)(v.M,{text:A.metadata.description,placement:"bottom-start",line:2})}},createSpecLifecycleColumn(){return{title:"Lifecycle",field:"spec.lifecycle"}},createSpecTypeColumn(){return{title:"Type",field:"spec.type"}}}),R=[o.createEntityRefColumn({defaultKind:"system"}),o.createDomainColumn(),o.createOwnerColumn(),o.createMetadataDescriptionColumn()],S=[o.createEntityRefColumn({defaultKind:"component"}),o.createSystemColumn(),o.createOwnerColumn(),o.createSpecTypeColumn(),o.createSpecLifecycleColumn(),o.createMetadataDescriptionColumn()];var K=t(29021);const i=(0,p.A)(A=>({empty:{padding:A.spacing(2),display:"flex",justifyContent:"center"}})),T=A=>{const{entities:d,title:j,emptyContent:c,variant:D="gridItem",columns:I,tableOptions:M={}}=A,f=i(),g={minWidth:"0",width:"100%"};return D==="gridItem"&&(g.height="calc(100% - 10px)"),(0,e.jsx)(K.X,{columns:I,title:j,style:g,emptyContent:c&&(0,e.jsx)("div",{className:f.empty,children:c}),options:{search:!1,paging:!1,actionsColumnIndex:-1,padding:"dense",draggable:!1,...M},data:d})};T.columns=o,T.systemEntityColumns=R,T.componentEntityColumns=S},39557:(b,C,t)=>{t.d(C,{E:()=>y});var e=t(78560),p=t(18139),s=t(73466),v=t(30043);function y(l,u){const E=u?.type?.toLocaleLowerCase("en-US"),o=u?.kind?.toLocaleLowerCase("en-US"),R=(0,p.gf)(v.v),{loading:S,value:K,error:i}=(0,s.A)(async()=>{const T=l.relations?.filter(d=>(!E||d.type.toLocaleLowerCase("en-US")===E)&&(!o||(0,e.KU)(d.targetRef).kind===o));if(!T?.length)return[];const{items:A}=await R.getEntitiesByRefs({entityRefs:T.map(d=>d.targetRef)});return A.filter(d=>!!d)},[l,E,o]);return{entities:K,loading:S,error:i}}},54748:(b,C,t)=>{t.d(C,{M:()=>l});var e=t(31085),p=t(58837),s=t(71677),v=t(72501);const y=(0,p.A)({container:{overflow:"visible !important"},typo:{fontSize:"inherit",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkit-line-clamp":({line:u})=>u||1,"-webkit-box-orient":"vertical"}},{name:"BackstageOverflowTooltip"});function l(u){const E=y(u);return(0,e.jsx)(s.Ay,{title:u.title??(u.text||""),placement:u.placement,children:(0,e.jsx)(v.A,{className:E.typo,variant:"inherit",children:u.text})})}},77536:(b,C,t)=>{t.d(C,{e:()=>s});var e=t(31085),p=t(62112);const s=v=>(0,e.jsx)(p.z,{text:v.definition,language:v.language,showCopyCodeButton:!0})},88419:(b,C,t)=>{t.d(C,{t:()=>y});var e=t(31085),p=t(72501),s=t(90338),v=t(18139);const y=l=>{const{apiEntity:u}=l,o=(0,v.gf)(s.P).getApiDefinitionWidget(u),R=o?o.title:u.spec.type;return(0,e.jsx)(p.A,{component:"span",variant:"inherit",children:R})}},96943:(b,C,t)=>{t.d(C,{w:()=>p});var e=t(97963);const p=(0,e.h)({id:"api-docs",messages:{apiDefinitionDialog:{closeButtonTitle:"Close",tabsAriaLabel:"API definition options",toggleButtonAriaLabel:"Toggle API Definition Dialog"},defaultApiExplorerPage:{title:"APIs",subtitle:"{{orgName}} API Explorer",pageTitleOverride:"APIs",createButtonTitle:"Register Existing API",supportButtonTitle:"All your APIs"},consumedApisCard:{title:"Consumed APIs",error:{title:"Could not load APIs"},emptyContent:{title:"This {{entity}} does not consume any APIs."}},hasApisCard:{title:"APIs",error:{title:"Could not load APIs"},emptyContent:{title:"This {{entity}} does not contain any APIs."}},providedApisCard:{title:"Provided APIs",error:{title:"Could not load APIs"},emptyContent:{title:"This {{entity}} does not provide any APIs."}},apiEntityColumns:{typeTitle:"Type",apiDefinitionTitle:"API Definition"},consumingComponentsCard:{title:"Consumers",error:{title:"Could not load components"},emptyContent:{title:"No component consumes this API."}},providingComponentsCard:{title:"Providers",error:{title:"Could not load components"},emptyContent:{title:"No component provides this API."}},apisCardHelpLinkTitle:"Learn how to change this"}})}}]);})();

//# sourceMappingURL=2389.da23852f.chunk.js.map