"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4987,7640],{143:(P,i,t)=>{t.d(i,{f:()=>c});var e=t(31085),s=t(55290),r=t(23730);const c={createCopyDocsUrlAction(l){return n=>({icon:()=>(0,e.jsx)(s.A,{fontSize:"small"}),tooltip:"Click to copy documentation link to clipboard",onClick:()=>l(`${window.location.origin}${n.resolved.docsUrl}`)})},createStarEntityAction(l,n){return m=>{const o=m.entity,d=l(o);return{cellStyle:{paddingLeft:"1em"},icon:()=>(0,e.jsx)(r.m,{isFavorite:d}),tooltip:d?"Remove from favorites":"Add to favorites",onClick:()=>n(o)}}}}},4348:(P,i,t)=>{t.d(i,{V:()=>e});function e(s,r){return r.getOptionalBoolean("techdocs.legacyUseCaseSensitiveTripletPaths")?s:s.toLocaleLowerCase("en-US")}},19108:(P,i,t)=>{t.d(i,{A:()=>e,G:()=>s});const e="backstage.io/techdocs-ref",s="backstage.io/techdocs-entity"},47640:(P,i,t)=>{t.r(i),t.d(i,{TechDocsIndexPage:()=>ot});var e=t(31085),s=t(18690),r=t(17138),c=t(56420),l=t(16454),n=t(18453),m=t(77509),o=t(30117),d=t(40941),g=t(56829),C=t(88461),j=t(14041),U=t(24259),$=t(19108);class W{getCatalogFilters(){return{[`metadata.annotations.${$.A}`]:U.c}}}const B=()=>{const{updateFilters:h}=(0,n.nK)();return(0,j.useEffect)(()=>{h({techdocs:new W})},[h]),null};var K=t(36338),G=t(45250),V=t(99338),X=t(62112),Y=t(72814),F=t(18139),_=t(54195),a=t(44861),E=t(67633),u=t(29021),f=t(49724);function L(h){const{actions:p,columns:M,data:R,isLoading:O,options:x}=h,{updateFilters:y,setLimit:A,setOffset:T,limit:v,totalItems:D,offset:b}=(0,n.nK)(),[H,k]=(0,j.useState)(b&&v?Math.floor(b/v):0);return(0,j.useEffect)(()=>{D&&H*v>=D?T(Math.max(0,D-v)):T(Math.max(0,H*v))},[T,H,v,D]),(0,e.jsx)(u.X,{columns:M,data:R,options:{paginationPosition:"both",pageSizeOptions:[5,10,20,50,100],pageSize:v,emptyRowsWhenPaging:!1,actionsColumnIndex:-1,...x},actions:p,onSearchChange:S=>y({text:S?new f.V3(S):void 0}),page:H,onPageChange:S=>{k(S)},onRowsPerPageChange:S=>{A(S)},totalCount:D,localization:{pagination:{labelDisplayedRows:""}},isLoading:O})}function N(h){const{actions:p,columns:M,data:R,next:O,prev:x,title:y,isLoading:A,options:T,...v}=h;return(0,e.jsx)(u.X,{title:A?"":y,columns:M,data:R,options:{paginationPosition:"both",...T,pageSizeOptions:[],showFirstLastPageButtons:!1,pageSize:Number.MAX_SAFE_INTEGER,emptyRowsWhenPaging:!1,actionsColumnIndex:-1},onPageChange:D=>{D>0?O?.():x?.()},page:x?1:0,totalCount:O?Number.MAX_VALUE:Number.MAX_SAFE_INTEGER,localization:{pagination:{labelDisplayedRows:""}},isLoading:A,...v})}var Z=t(143),z=t(61231),Q=t(17749),J=t(51529);const I=h=>{const{columns:p,actions:M,options:R}=h,{loading:O,error:x,entities:y,filters:A,paginationMode:T,pageInfo:v}=(0,n.nK)(),{isStarredEntity:D,toggleStarredEntity:b}=(0,a.I)(),[,H]=(0,K.A)(),k=(0,Y.S)(Q.Oc),S=(0,F.gf)(_.U),w=(0,G.capitalize)(A.user?.value??"all"),q=[Z.f.createCopyDocsUrlAction(H),Z.f.createStarEntityAction(D,b)],tt=(0,J.H)(y,k,S);return T==="cursor"?(0,e.jsx)(N,{columns:p||z.F,isLoading:O,title:w,actions:M||q,options:R,data:tt,next:v?.next,prev:v?.prev}):T==="offset"?(0,e.jsx)(L,{columns:p||z.F,isLoading:O,title:w,actions:M||q,options:R,data:tt}):x?(0,e.jsx)(V.B,{severity:"error",title:"Could not load available documentation.",children:(0,e.jsx)(X.z,{language:"text",text:x.toString()})}):(0,e.jsx)(E.o,{title:w,entities:y,loading:O,actions:M||q,columns:p,options:R})};I.columns=z.B,I.actions=Z.f;const et=h=>{const{initialFilter:p="owned",columns:M,actions:R,ownerPickerMode:O,pagination:x,options:y,PageWrapper:A,CustomHeader:T}=h,v=A||C.S,D=T||(()=>(0,e.jsx)(r.d,{title:"",children:(0,e.jsx)(c.Y,{children:"Discover documentation in your ecosystem."})}));return(0,e.jsx)(v,{children:(0,e.jsxs)(l.U,{children:[(0,e.jsx)(D,{}),(0,e.jsx)(n.B9,{pagination:x,children:(0,e.jsxs)(m.GI,{children:[(0,e.jsxs)(m.GI.Filters,{children:[(0,e.jsx)(B,{}),(0,e.jsx)(o.y,{initialFilter:p}),(0,e.jsx)(d.t,{mode:O}),(0,e.jsx)(g.m,{})]}),(0,e.jsx)(m.GI.Content,{children:(0,e.jsx)(I,{actions:R,columns:M,options:y})})]})})]})})},ot=h=>(0,s.P1)()||(0,e.jsx)(et,{...h})},51529:(P,i,t)=>{t.d(i,{H:()=>l});var e=t(97214),s=t(699),r=t(53318),c=t(4348);function l(n,m,o){return n.map(d=>{const g=(0,s.t)(d,e.vv);return{entity:d,resolved:{docsUrl:m({namespace:(0,c.V)(d.metadata.namespace??"default",o),kind:(0,c.V)(d.kind,o),name:(0,c.V)(d.metadata.name,o)}),ownedByRelations:g,ownedByRelationsTitle:g.map(C=>(0,r.S)(C,{defaultKind:"group"})).join(", ")}}})}},55290:(P,i,t)=>{var e,s=t(4293),r=t(78920);e={value:!0},i.A=void 0;var c=r(t(14041)),l=s(t(74044)),n=(0,l.default)(c.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");i.A=n},61231:(P,i,t)=>{t.d(i,{B:()=>n,F:()=>m});var e=t(31085),s=t(49907),r=t(75202),c=t(14158);function l(o){return o.metadata.title||o.metadata.name}const n={createTitleColumn(o){return{...n.createNameColumn(),field:"entity.metadata.title",hidden:o?.hidden}},createNameColumn(){return{title:"Document",field:"entity.metadata.name",highlight:!0,searchable:!0,defaultSort:"asc",customSort:(o,d)=>{const g=l(o.entity).toLocaleLowerCase(),C=l(d.entity).toLocaleLowerCase();return g.localeCompare(C)},render:o=>(0,e.jsx)(s.m,{value:(0,e.jsx)(r.N_,{to:o.resolved.docsUrl,children:l(o.entity)}),subvalue:o.entity.metadata.description})}},createOwnerColumn(){return{title:"Owner",field:"resolved.ownedByRelationsTitle",render:({resolved:o})=>(0,e.jsx)(c.i,{entityRefs:o.ownedByRelations,defaultKind:"group"})}},createKindColumn(){return{title:"Kind",field:"entity.kind"}},createTypeColumn(){return{title:"Type",field:"entity.spec.type"}}},m=[n.createTitleColumn({hidden:!0}),n.createNameColumn(),n.createOwnerColumn(),n.createKindColumn(),n.createTypeColumn()]},67633:(P,i,t)=>{t.d(i,{o:()=>U});var e=t(31085),s=t(36338),r=t(72814),c=t(18139),l=t(54195),n=t(17749),m=t(29021),o=t(65995),d=t(87318),g=t(143),C=t(61231),j=t(51529);const U=$=>{const{entities:W,title:B,loading:K,columns:G,actions:V,options:X}=$,[,Y]=(0,s.A)(),F=(0,r.S)(n.Oc),_=(0,c.gf)(l.U);if(!W)return null;const a=(0,j.H)(W,F,_),E=[g.f.createCopyDocsUrlAction(Y)],u=20,f=a&&a.length>u;return(0,e.jsx)(e.Fragment,{children:K||a&&a.length>0?(0,e.jsx)(m.X,{isLoading:K,options:{paging:f,pageSize:u,search:!0,actionsColumnIndex:-1,...X},data:a,columns:G||C.F,actions:V||E,title:B?`${B} (${a.length})`:`All (${a.length})`}):(0,e.jsx)(o.p,{missing:"data",title:"No documents to show",description:"Create your own document. Check out our Getting Started Information",action:(0,e.jsx)(d.z,{color:"primary",to:"https://backstage.io/docs/features/techdocs/getting-started",variant:"contained",children:"DOCS"})})})};U.columns=C.B,U.actions=g.f},74987:(P,i,t)=>{t.r(i),t.d(i,{EmbeddedDocsRouter:()=>F,LegacyEmbeddedDocsRouter:()=>_,Router:()=>X,TechDocsReaderRouter:()=>Y,isTechDocsAvailable:()=>V});var e=t(31085),s=t(18690),r=t(78560),c=t(19108),l=t(64392),n=t(39781),m=t(84893),o=t(14041),d=t(72814),g=t(17749);const C=a=>a.replace(/^\/+/,""),j=a=>a.replace(/\/+$/,"");function U(a){const{kind:E,name:u,namespace:f}=a,L=(0,d.S)(g.Oc),N=(0,d.S)(g.Ri);return(0,o.useMemo)(()=>{const z=j(L({kind:E,namespace:f,name:u})),Q=j(N());return J=>{if(J.toLocaleLowerCase("en-US").startsWith(z.toLocaleLowerCase("en-US"))){const I=C(J.slice(z.length));return I.length===0||I.startsWith("#")?`${Q}${I}`:`${Q}/${I}`}return J}},[L,N,E,u,f])}const $=({entity:a,withSearch:E=!0})=>{let u=(0,r.sM)(a);const f=U(u);if(a.metadata.annotations?.[c.G])try{u=(0,r.KU)(a.metadata.annotations?.[c.G])}catch{}return(0,e.jsxs)(l.Wj,{entityRef:u,children:[(0,e.jsx)(m.Z,{}),(0,e.jsx)(n.p,{withSearch:E,searchResultUrlMapper:f})]})};var W=t(47640),B=t(33402),K=t(16400),G=t(32293);const V=a=>!!a?.metadata?.annotations?.[c.A]||!!a?.metadata?.annotations?.[c.G],X=()=>(0,e.jsxs)(s.BV,{children:[(0,e.jsx)(s.qh,{path:"/",element:(0,e.jsx)(W.TechDocsIndexPage,{})}),(0,e.jsx)(s.qh,{path:"/:namespace/:kind/:name/*",element:(0,e.jsx)(B.W,{})})]}),Y=a=>{const{children:E}=a;return(0,s.Ye)([{path:"*",element:(0,e.jsx)(B.W,{}),children:[{path:"*",element:E}]}])},F=a=>{const{children:E,emptyState:u,withSearch:f=!0}=a,{entity:L}=(0,K.tN)(),N=(0,s.Ye)([{path:"/*",element:(0,e.jsx)($,{entity:L,withSearch:f}),children:[{path:"*",element:E}]}]);return L.metadata.annotations?.[c.A]||L.metadata.annotations?.[c.G]?N:u??(0,e.jsx)(G.o,{annotation:[c.A]})},_=({children:a,withSearch:E=!0})=>(0,e.jsx)(F,{children:a,withSearch:E})},88461:(P,i,t)=>{t.d(i,{S:()=>l});var e=t(31085),s=t(92303),r=t(18139),c=t(54195);const l=n=>{const{children:m,CustomPageWrapper:o}=n,g=`Documentation available in ${(0,r.gf)(c.U).getOptionalString("organization.name")??"Backstage"}`;return(0,e.jsx)(e.Fragment,{children:o?(0,e.jsx)(o,{children:m}):(0,e.jsx)(s.d,{title:"Documentation",subtitle:g,themeId:"documentation",children:m})})}},92303:(P,i,t)=>{t.d(i,{d:()=>c});var e=t(31085),s=t(79182),r=t(82326);function c(l){const{themeId:n,children:m,...o}=l;return(0,e.jsxs)(r.Y,{themeId:n,children:[(0,e.jsx)(s.Y,{...o}),m]})}}}]);})();

//# sourceMappingURL=4987.9ac6ee89.chunk.js.map