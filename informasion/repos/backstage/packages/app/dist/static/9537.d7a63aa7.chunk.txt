"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9537],{13660:(K,v,t)=>{var e,f=t(4293),x=t(78920);e={value:!0},v.A=void 0;var g=x(t(14041)),S=f(t(74044)),L=(0,S.default)(g.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"Code");v.A=L},71096:(K,v,t)=>{t.d(v,{m:()=>H});var e=t(31085),f=t(24709),x=t(44913),g=t(77125),S=t(72501),L=t(58837),k=t(23127),P=t(75202);const z=(0,L.A)({svgIcon:{display:"inline-block","& svg":{display:"inline-block",fontSize:"inherit",verticalAlign:"baseline"}}});function I(C){const{href:j,text:m,Icon:i}=C,R=z();return(0,e.jsxs)(g.A,{display:"flex",children:[(0,e.jsx)(g.A,{mr:1,className:R.svgIcon,children:(0,e.jsx)(S.A,{component:"div",children:i?(0,e.jsx)(i,{}):(0,e.jsx)(k.A,{})})}),(0,e.jsx)(g.A,{flexGrow:"1",children:(0,e.jsx)(P.N_,{to:j,target:"_blank",rel:"noopener",children:m||j})})]})}var y=t(5893);const Q={xs:1,sm:1,md:1,lg:2,xl:3};function V(C){const j=[(0,y.A)(i=>i.breakpoints.up("xl"))?"xl":null,(0,y.A)(i=>i.breakpoints.up("lg"))?"lg":null,(0,y.A)(i=>i.breakpoints.up("md"))?"md":null,(0,y.A)(i=>i.breakpoints.up("sm"))?"sm":null,(0,y.A)(i=>i.breakpoints.up("xs"))?"xs":null];let m=1;if(typeof C=="number")m=C;else{const i=j.find(R=>R!==null)??"xs";m=C?.[i]??Q[i]}return m}function H(C){const{items:j,cols:m=void 0}=C,i=V(m);return(0,e.jsx)(f.A,{rowHeight:"auto",cols:i,children:j.map(({text:R,href:O,Icon:J},X)=>(0,e.jsx)(x.A,{children:(0,e.jsx)(I,{href:O,text:R??O,Icon:J})},X))})}},74011:(K,v,t)=>{var e,f=t(4293),x=t(78920);e={value:!0},v.A=void 0;var g=x(t(14041)),S=f(t(74044)),L=(0,S.default)(g.createElement("path",{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached");v.A=L},99537:(K,v,t)=>{t.r(v),t.d(v,{AboutCard:()=>Dt,AboutContent:()=>lt,AboutField:()=>p});var e=t(31085),f=t(55488),x=t(78560),g=t(98890),S=t(40703),L=t(48653),k=t(45685),P=t(37197),z=t(29365),I=t(58837),y=t(75202),Q=t(92483),V=t(53373),H=t.n(V),C=t(86613),j=t(77125),m=t(72501);const i=(0,I.A)(o=>({link:{display:"grid",justifyItems:"center",gridGap:4,textAlign:"center"},disabled:{color:o.palette.text.secondary,cursor:"default"},primary:{color:o.palette.primary.main},secondary:{color:o.palette.secondary.main},label:{textTransform:"uppercase",fontWeight:o.typography.fontWeightBold,letterSpacing:1.2}}),{name:"BackstageIconLinkVertical"});function R({color:o="primary",disabled:n=!1,href:l="#",icon:a=(0,e.jsx)(C.A,{}),label:s,onClick:h,title:d}){const r=i();return n?(0,e.jsxs)(j.A,{title:d,className:H()(r.link,r.disabled),children:[a,(0,e.jsx)(m.A,{variant:"caption",component:"span",className:r.label,children:s})]}):(0,e.jsxs)(y.N_,{title:d,className:H()(r.link,r[o]),to:l,onClick:h,children:[a,(0,e.jsx)(m.A,{variant:"caption",component:"span",className:r.label,children:s})]})}const O=(0,I.A)(o=>({links:{margin:o.spacing(2,0),display:"grid",gridAutoFlow:"column",gridAutoColumns:"min-content",gridGap:o.spacing(3)}}),{name:"BackstageHeaderIconLinkRow"});function J(o){const{links:n}=o,l=O();return(0,e.jsx)("nav",{className:l.links,children:n.map((a,s)=>(0,e.jsx)(R,{...a},s+1))})}var X=t(14041),dt=t(56004),ct=t(13660),q=t(95208);const mt=o=>{const{type:n}=o,l=(0,q.n)(),a=ct.A,s=n?l.getSystemIcon(n)??a:a;return(0,e.jsx)(s,{})};var U=t(18139),ut=t(34477),vt=t(24453),_=t(72814),ft=t(16400),tt=t(30043),et=t(79112);function gt(o,n){const l=o.metadata.annotations?.[g.I4];if(l)try{const a=(0,et.aY)(l),s=n.byUrl(a.target);return{locationTargetUrl:a.target,integrationType:s?.type}}catch{return}}var nt=t(88549),B=t(97214),D=t(699),W=t(14158),pt=t(67720),at=t(42899),ht=t(28364),xt=t(77026);const yt=(0,I.A)(o=>({value:{fontWeight:"bold",overflow:"hidden",lineHeight:"24px",wordBreak:"break-word"},label:{color:o.palette.text.secondary,textTransform:"uppercase",fontSize:"10px",fontWeight:"bold",letterSpacing:.5,overflow:"hidden",whiteSpace:"nowrap"}}));function p(o){const{label:n,value:l,gridSizes:a,children:s,className:h}=o,d=yt(),r=(0,xt.O)(s,A=>A.getElements()),E=r.length>0?r:(0,e.jsx)(m.A,{variant:"body2",className:d.value,children:l||"unknown"});return(0,e.jsxs)(at.A,{item:!0,...a,className:h,children:[(0,e.jsx)(m.A,{variant:"h2",className:d.label,children:n}),E]})}var Ct=t(71096),st=t(10265),ot=t(58045);const At=(0,I.A)({description:{wordBreak:"break-word"}});function jt(o,n,l){if(n==="url"||o.includes("://"))return o;const a=l.type==="file"?`file://${l.target}`:l.target;return n==="file"||l.type==="file"?new URL(o,a).href:a}function lt(o){const{entity:n}=o,l=At(),{t:a}=(0,st.i)(ot.W),s=n.kind.toLocaleLowerCase("en-US")==="system",h=n.kind.toLocaleLowerCase("en-US")==="resource",d=n.kind.toLocaleLowerCase("en-US")==="component",r=n.kind.toLocaleLowerCase("en-US")==="api",E=n.kind.toLocaleLowerCase("en-US")==="template",A=n.kind.toLocaleLowerCase("en-US")==="location",T=n.kind.toLocaleLowerCase("en-US")==="group",b=(0,D.t)(n,B.jn,{kind:"system"}),M=(0,D.t)(n,B.jn,{kind:"component"}),c=(0,D.t)(n,B.jn,{kind:"domain"}),G=(0,D.t)(n,B.vv);let N;try{N=(0,et.Cr)(n)}catch{N=void 0}return(0,e.jsxs)(at.A,{container:!0,children:[(0,e.jsx)(p,{label:a("aboutCard.descriptionField.label"),gridSizes:{xs:12},children:(0,e.jsx)(ht.h,{className:l.description,content:n?.metadata?.description||a("aboutCard.descriptionField.value")})}),(0,e.jsx)(p,{label:a("aboutCard.ownerField.label"),value:a("aboutCard.ownerField.value"),className:l.description,gridSizes:{xs:12,sm:6,lg:4},children:G.length>0&&(0,e.jsx)(W.i,{entityRefs:G,defaultKind:"group"})}),(s||c.length>0)&&(0,e.jsx)(p,{label:a("aboutCard.domainField.label"),value:a("aboutCard.domainField.value"),gridSizes:{xs:12,sm:6,lg:4},children:c.length>0&&(0,e.jsx)(W.i,{entityRefs:c,defaultKind:"domain"})}),(r||d||h||b.length>0)&&(0,e.jsx)(p,{label:a("aboutCard.systemField.label"),value:a("aboutCard.systemField.value"),gridSizes:{xs:12,sm:6,lg:4},children:b.length>0&&(0,e.jsx)(W.i,{entityRefs:b,defaultKind:"system"})}),d&&M.length>0&&(0,e.jsx)(p,{label:a("aboutCard.parentComponentField.label"),value:a("aboutCard.parentComponentField.value"),gridSizes:{xs:12,sm:6,lg:4},children:(0,e.jsx)(W.i,{entityRefs:M,defaultKind:"component"})}),(r||d||h||E||T||A||typeof n?.spec?.type=="string")&&(0,e.jsx)(p,{label:a("aboutCard.typeField.label"),value:n?.spec?.type,gridSizes:{xs:12,sm:6,lg:4}}),(r||d||typeof n?.spec?.lifecycle=="string")&&(0,e.jsx)(p,{label:a("aboutCard.lifecycleField.label"),value:n?.spec?.lifecycle,gridSizes:{xs:12,sm:6,lg:4}}),(0,e.jsx)(p,{label:a("aboutCard.tagsField.label"),value:a("aboutCard.tagsField.value"),gridSizes:{xs:12,sm:6,lg:4},children:(n?.metadata?.tags||[]).map(u=>(0,e.jsx)(pt.A,{size:"small",label:u},u))}),A&&(n?.spec?.targets||n?.spec?.target)&&(0,e.jsx)(p,{label:a("aboutCard.targetsField.label"),gridSizes:{xs:12},children:(0,e.jsx)(Ct.m,{cols:1,items:(n.spec.targets||[n.spec.target]).map(u=>u).map(u=>({text:u,href:jt(u,n?.spec?.type||"unknown",N)}))})})]})}var St=t(74011),Lt=t(25534),It=t(82451),Rt=t(75625),Tt=t(45281),bt=t(56299),Nt=t(10543),Et=t(91638);const Ft="backstage.io/source-template",zt=o=>{const n=(0,U.gf)(tt.v),{value:l}=(0,Et.A)(async()=>{const a=o.metadata.annotations?.[Ft];let s;if(a)try{const h=await n.getEntityByRef(a);return s=(0,x.KU)(a),h!==void 0?s:void 0}catch{return}},[n,o]);return l};var Ut=t(77253),Ht=t(90712);const Ot="backstage.io/techdocs-ref",Y="backstage.io/techdocs-entity",Bt=(0,I.A)({gridItemCard:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px"},fullHeightCard:{display:"flex",flexDirection:"column",height:"100%"},gridItemCardContent:{flex:1},fullHeightCardContent:{flex:1}});function Dt(o){const{variant:n}=o,l=(0,q.n)(),a=Bt(),{entity:s}=(0,ft.tN)(),h=(0,U.gf)(dt.Y),d=(0,U.gf)(tt.v),r=(0,U.gf)(ut.k),E=(0,U.gf)(vt.m),A=(0,_.S)(nt.UJ),T=(0,_.S)(nt.Zg),b=zt(s),{allowed:M}=(0,bt.A)(Nt.tS),{t:c}=(0,st.i)(ot.W),{allowed:G}=(0,Ht.J)({permission:Ut.X6}),N=gt(s,h),u=s.metadata.annotations?.[f.P];let F;if(s.metadata.annotations?.[Y])try{F=(0,x.KU)(s.metadata.annotations?.[Y])}catch{F=void 0}const Wt={label:c("aboutCard.viewSource"),disabled:!N,icon:(0,e.jsx)(mt,{type:N?.integrationType}),href:N?.locationTargetUrl},Mt={label:c("aboutCard.viewTechdocs"),disabled:!(s.metadata.annotations?.[Ot]||s.metadata.annotations?.[Y])||!A,icon:(0,e.jsx)(It.A,{}),href:A&&A(F?{namespace:F.namespace||f.oQ,kind:F.kind,name:F.name}:{namespace:s.metadata.namespace||f.oQ,kind:s.kind,name:s.metadata.name})},it=[Wt,Mt];if((0,Tt.c)(s)){const w=l.getSystemIcon("scaffolder")??Lt.A,kt={label:c("aboutCard.launchTemplate"),icon:(0,e.jsx)(w,{}),disabled:!T||!G,href:T&&T({templateName:s.metadata.name,namespace:s.metadata.namespace||f.oQ})};it.push(kt)}let Z="";n==="gridItem"?Z=a.gridItemCard:n==="fullHeight"&&(Z=a.fullHeightCard);let $="";n==="gridItem"?$=a.gridItemCardContent:n==="fullHeight"&&($=a.fullHeightCardContent);const rt=s.metadata.annotations?.[g.Eo],Gt=rt?.startsWith("url:")||rt?.startsWith("file:"),Kt=(0,X.useCallback)(async()=>{try{await d.refreshEntity((0,x.U2)(s)),r.post({message:c("aboutCard.refreshScheduledMessage"),severity:"info",display:"transient"})}catch(w){E.post(w)}},[d,s,r,c,E]);return(0,e.jsxs)(S.A,{className:Z,children:[(0,e.jsx)(k.A,{title:c("aboutCard.title"),action:(0,e.jsxs)(e.Fragment,{children:[Gt&&M&&(0,e.jsx)(z.A,{"aria-label":"Refresh",title:c("aboutCard.refreshButtonTitle"),onClick:Kt,children:(0,e.jsx)(St.A,{})}),(0,e.jsx)(z.A,{component:y.N_,"aria-label":"Edit",disabled:!u,title:c("aboutCard.editButtonTitle"),to:u??"#",children:(0,e.jsx)(Rt.A,{})}),b&&T&&(0,e.jsx)(z.A,{component:y.N_,title:c("aboutCard.createSimilarButtonTitle"),to:T({namespace:b.namespace,templateName:b.name}),children:(0,e.jsx)(Q.z9,{id:"scaffolder"})})]}),subheader:(0,e.jsx)(J,{links:it})}),(0,e.jsx)(P.A,{}),(0,e.jsx)(L.A,{className:$,children:(0,e.jsx)(lt,{entity:s})})]})}}}]);})();

//# sourceMappingURL=9537.d7a63aa7.chunk.js.map